(this.webpackJsonpmern=this.webpackJsonpmern||[]).push([[0],{24:function(e,t,a){e.exports=a(53)},47:function(e,t,a){},53:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(21),o=a.n(r),c=a(22),s=a(1),m=a(8),i=a.n(m),u=function(e){return i.a.get("https://www.googleapis.com/books/v1/volumes?q="+e)},d=function(e){return i.a.delete("/api/books/"+e)},h=function(e){return i.a.post("/api/books",e)},E=function(){return i.a.get("/api/books")};function b({fluid:e,children:t}){return l.a.createElement("div",{className:"container".concat(e?"-fluid":"")},t)}function v({fluid:e,children:t}){return l.a.createElement("div",{className:"row".concat(e?"-fluid":"")},t)}function g({size:e,children:t}){return l.a.createElement("div",{className:e.split(" ").map(e=>"col-"+e).join(" ")},t)}var f=function(e){return l.a.createElement("form",null,l.a.createElement("div",{className:"form-group"},l.a.createElement("label",null,l.a.createElement("h3",{className:"mt-5"},"Book Search")),l.a.createElement("br",null),l.a.createElement("input",{className:"col-12 form-control",value:e.search,type:"text",name:"search",placeholder:"Search for your favorite book",onChange:e.handleInputChange})),l.a.createElement("button",{type:"submit",className:"btn btn-primary",onClick:e.handleFormSubmit},"Submit"))};var p=function(e){return console.log(e),e.googlebooks.length>0?l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},e.googlebooks.map(t=>l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement(v,{key:t.id},l.a.createElement(g,{size:"2"},l.a.createElement("img",{src:t.image,alt:t.title})),l.a.createElement(g,{size:"10"},l.a.createElement(v,null,l.a.createElement("h3",null,t.title," by ",t.author)),l.a.createElement(v,null,l.a.createElement("p",null,t.description)))),l.a.createElement("br",null),l.a.createElement(v,null,l.a.createElement("a",{href:t.link,target:"_blank"},l.a.createElement("button",{className:"btn btn-info"},"View")),l.a.createElement("button",{className:"btn btn-info ml-2",id:t.id,onClick:t=>e.handleSaveButton(t)},"Save"))))))):l.a.createElement("h3",null,"No Results to Display")};a(47);var k=function({children:e}){return l.a.createElement("div",{style:{height:300,clear:"both",paddingTop:120,textAlign:"center"},className:"jumbotron"},e)};class S extends n.Component{constructor(...e){super(...e),this.state={search:"",googlebooks:[]},this.handleInputChange=e=>{this.setState({search:e.target.value})},this.handleFormSubmit=e=>{e.preventDefault(),u(this.state.search).then(e=>{let t=e.data.items.map(e=>e={key:e.id,id:e.id,title:e.volumeInfo.title,author:e.volumeInfo.authors,description:e.volumeInfo.description,image:e.volumeInfo.imageLinks.thumbnail,link:e.volumeInfo.infoLink});this.setState({googlebooks:t})})},this.handleSaveButton=e=>{e.preventDefault();let t=this.state.googlebooks.filter(t=>t.id===e.target.id);console.log(t),h(t).then(this.setState({message:alert("Your book is saved")})).catch(e=>console.log(e))}}render(){return l.a.createElement("div",null,l.a.createElement(k,null,l.a.createElement("h2",null,"(React) Google Books Search"),l.a.createElement("p",null,"Search for and Save Books of Interest")),l.a.createElement(b,null,l.a.createElement(v,null,l.a.createElement(g,{size:"12"},l.a.createElement(f,{handleFormSubmit:this.handleFormSubmit,handleInputChange:this.handleInputChange})))),l.a.createElement("br",null),l.a.createElement(b,null,l.a.createElement(p,{googlebooks:this.state.googlebooks,handleSaveButton:this.handleSaveButton})))}}var N=S;var B=function(e){return console.log(e),l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},e.savedbooks.map(t=>l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-body"},l.a.createElement(v,{key:t._id},l.a.createElement(g,{size:"2"},l.a.createElement("img",{src:t.image,alt:t.title})),l.a.createElement(g,{size:"10"},l.a.createElement(v,null,l.a.createElement("h3",null,t.title)),l.a.createElement(v,null,l.a.createElement("p",null,t.description)))),l.a.createElement("br",null),l.a.createElement(v,null,l.a.createElement("a",{href:t.link,target:"_blank"},l.a.createElement("button",{className:"btn btn-info"},"View")),l.a.createElement("button",{className:"btn btn-info ml-2",id:t._id,onClick:()=>e.handleDeleteButton(t._id)},"Delete")))))))};class y extends n.Component{constructor(...e){super(...e),this.state={savedbooks:[]},this.handleDeleteButton=e=>{d(e).then(e=>this.fetchSavedBooks()).catch(e=>console.log(e))}}componentDidMount(){this.fetchSavedBooks()}fetchSavedBooks(){E().then(e=>{this.setState({savedbooks:e.data})})}render(){return l.a.createElement("div",null,l.a.createElement(k,null,l.a.createElement("h2",null,"(React) Google Books Search"),l.a.createElement("p",null,"Search for and Save Books of Interest")),l.a.createElement("br",null),l.a.createElement(b,null,l.a.createElement(v,null,l.a.createElement(g,{size:"12"},l.a.createElement(B,{savedbooks:this.state.savedbooks,handleDeleteButton:this.handleDeleteButton})))))}}var I=y;var C=function(){return l.a.createElement(b,{fluid:!0},l.a.createElement(v,null,l.a.createElement(g,{size:"md-12"},l.a.createElement(k,null,l.a.createElement("h1",null,"404 Page Not Found"),l.a.createElement("h1",null,l.a.createElement("span",{role:"img","aria-label":"Face With Rolling Eyes Emoji"},"\ud83d\ude44"))))))};var D=function(){return l.a.createElement("nav",{className:"navbar navbar-expand-lg navbar-dark bg-primary"},l.a.createElement("a",{className:"navbar-brand",href:"/"},"Google Books"),l.a.createElement("a",{className:"navbar-brand",href:"/search"},"Search"),l.a.createElement("a",{className:"navbar-brand",href:"/saved"},"Saved"))};var w=function(){return l.a.createElement(c.a,null,l.a.createElement("div",null,l.a.createElement(D,null),l.a.createElement(s.c,null,l.a.createElement(s.a,{exact:!0,path:["/","/search"]},l.a.createElement(N,null)),l.a.createElement(s.a,{exact:!0,path:"/saved"},l.a.createElement(I,null)),l.a.createElement(s.a,null,l.a.createElement(C,null)))))};o.a.render(l.a.createElement(w,null),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.f4c8782a.chunk.js.map